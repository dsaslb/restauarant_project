# Phase 0: 코드 정리 및 안정화 계획 (1-2주)

## 🚨 즉시 수정할 버그들

### 1. 인증 관련 버그
- [x] `/auth/quick_admin_login` 404 에러 해결
- [x] `/api/notifications/unread-count` 404 에러 해결
- [x] CORS 설정 수정 (`192.168.45.44:3001` 추가)
- [x] 프론트엔드 API URL 수정 (`localhost:5000` → `192.168.45.44:5000`)

### 2. 프론트엔드 경고 해결
- [x] Next.js 메타데이터 경고 해결 (`themeColor`, `viewport` 분리)
- [x] Tailwind CDN 경고 해결 (CDN 링크 제거)
- [x] 테마 토글 위치 검색 개선

### 3. 백엔드 안정화
- [ ] SQLAlchemy 관계 경고 해결 (Notification.user 관계)
- [ ] 중복 라우트 정리
- [ ] 에러 핸들링 개선

## 🔧 코드 정리 작업

### 1. 중복 코드 제거
- [ ] `routes/attendance.py`와 `routes/attendance_evaluation.py` 중복 함수 정리
- [ ] 알림 관련 중복 로직 통합
- [ ] 권한 체크 데코레이터 통합

### 2. 모듈화 개선
- [ ] API 모듈 구조 정리
- [ ] 공통 유틸리티 함수 분리
- [ ] 설정 파일 정리

### 3. 에러 처리 표준화
- [ ] 일관된 에러 응답 형식 정의
- [ ] 로깅 시스템 통합
- [ ] 예외 처리 개선

## 📊 성능 최적화

### 1. 데이터베이스 최적화
- [ ] N+1 쿼리 문제 해결
- [ ] 인덱스 추가
- [ ] 쿼리 최적화

### 2. 프론트엔드 최적화
- [ ] 불필요한 리렌더링 방지
- [ ] 이미지 최적화
- [ ] 번들 크기 최적화

## 🔒 보안 강화

### 1. 인증/인가 개선
- [ ] JWT 토큰 보안 강화
- [ ] 권한 체크 로직 개선
- [ ] CSRF 보호 강화

### 2. 입력 검증
- [ ] 모든 API 엔드포인트 입력 검증 추가
- [ ] SQL 인젝션 방지
- [ ] XSS 방지

## 📝 문서화

### 1. API 문서
- [ ] Swagger/OpenAPI 문서 생성
- [ ] API 엔드포인트 설명 추가
- [ ] 에러 코드 문서화

### 2. 개발 문서
- [ ] 설치 가이드 업데이트
- [ ] 개발 환경 설정 문서
- [ ] 배포 가이드 작성

## 🧪 테스트

### 1. 단위 테스트
- [ ] 핵심 비즈니스 로직 테스트 작성
- [ ] API 엔드포인트 테스트
- [ ] 모델 테스트

### 2. 통합 테스트
- [ ] 인증 플로우 테스트
- [ ] 권한 체크 테스트
- [ ] 데이터베이스 연동 테스트

## 📅 일정

### Week 1: 버그 수정 및 안정화
- Day 1-2: 즉시 수정할 버그들 해결
- Day 3-4: 코드 정리 및 중복 제거
- Day 5: 성능 최적화

### Week 2: 보안 강화 및 문서화
- Day 1-2: 보안 강화
- Day 3-4: 테스트 작성
- Day 5: 문서화 및 최종 점검

## 🎯 성공 기준

1. **안정성**: 모든 404, CORS, 인증 에러 해결
2. **성능**: 페이지 로딩 시간 50% 개선
3. **보안**: 보안 취약점 0개
4. **유지보수성**: 코드 중복 70% 감소
5. **테스트 커버리지**: 핵심 기능 80% 이상 