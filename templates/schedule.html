{% extends "base.html" %}
{% block content %}
<h2>스케줄 관리</h2>
<ul class="nav nav-tabs mb-3">
  <li class="nav-item"><a class="nav-link active" id="work-tab" data-toggle="tab" href="#work" onclick="showTab('work')">근무 스케줄</a></li>
  <li class="nav-item"><a class="nav-link" id="clean-tab" data-toggle="tab" href="#clean" onclick="showTab('clean')">청소 스케줄</a></li>
</ul>
<div class="tab-content">
  <div class="tab-pane active" id="work">
    <h4>근무 스케줄</h4>
    <table class="table">
      <thead>
        <tr><th>날짜</th><th>시작</th><th>종료</th><th>직원</th></tr>
      </thead>
      <tbody>
        {% for sch in work_schedules %}
        <tr>
          <td>{{ sch.date }}</td>
          <td>{{ sch.start_time }}</td>
          <td>{{ sch.end_time }}</td>
          <td>{{ sch.user.username if sch.user else '' }}</td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
  <div class="tab-pane" id="clean" style="display:none;">
    <h4>청소 스케줄</h4>
    <table class="table">
      <thead>
        <tr><th>날짜</th><th>시작</th><th>종료</th><th>팀/담당자</th></tr>
      </thead>
      <tbody>
        {% for sch in clean_schedules %}
        <tr>
          <td>{{ sch.date }}</td>
          <td>{{ sch.start_time }}</td>
          <td>{{ sch.end_time }}</td>
          <td>{{ sch.user.username if sch.user else '-' }}</td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
</div>
<script>
function showTab(tab) {
  document.getElementById('work').style.display = (tab === 'work') ? '' : 'none';
  document.getElementById('clean').style.display = (tab === 'clean') ? '' : 'none';
  document.getElementById('work-tab').classList.toggle('active', tab === 'work');
  document.getElementById('clean-tab').classList.toggle('active', tab === 'clean');
}
</script>
{% endblock %} 